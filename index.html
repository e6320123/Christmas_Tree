<!--    * -->
<!--   *** -->
<!--  ***** -->
<!-- ******* -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>輸入聖誕樹的高度，然後用*組合出來</title>
    <style>

    </style>
</head>

<body>


    <div style="display: inline-block;">
        <input type="text" id="height">
        <button onclick="inputHeight()">輸入高度</button>
    </div>
    <div style="display: inline-block;">
        <p>(範圍:4~26)</p>
    </div>
    <!-- 聖誕樹產生區 -->
    <div id="s">
    </div>

    <script>
        var pri = "<p>"; //##* <br> #*** <br> ***** </p>"

        function inputHeight() {

            var len = document.getElementById("height").value;

            function tree(topcut) {  
                for (var i = topcut; i < len; i++) {
                    for (var j = 0; j < len - 1 - i; j++) {
                        pri += "　";
                    }
                    for (let k = 0; k < 2 * i + 1; k++) {
                        pri += "＊";
                    }
                    pri += "<br>";
                }
            }

            function trunk() {

                len = len - 2;
                for (var i = 0; i < len; i++) {
                    for (var j = 0; j < len; j++) {
                        pri += "　";
                    }
                    for (let k = 0; k < 3; k++) {
                        pri += "＊";
                    }
                    pri += "<br>";
                }
            }

            if (len < 4 || len > 26) {
                alert("請輸入4~26");
            } else {
                var topcut = 0;
                if (len % 2 == 0) {
                    topcut = len / 2;
                } else {
                    topcut = (len - 1) / 2;
                }
                tree(0);
                tree(topcut);
                tree(topcut);
                trunk();
                pri += "</p>";
                document.getElementById("s").innerHTML = pri;
                pri = "";
            }
        }
        // ※ 注意要用全形的＊和全形的空白 ※

        // 分解動作
        // 1. 觀察列和星星數量的變化: 星星數量 = 最終列 + 最終列 - 1
        //    1＝>1、2=>3、3=>5、4=>7、5=>9
        // 2. 觀察列和空白數量的變化: 假設以四列舉例
        //    第一列：1=>3、5=>7
        //    第二列：1=>2、6=>7
        //    第三列：1=>1、7=>7
        //    第四列：
        // 3. 觀察星星中間位置: 中間位置 = 最終列
    </script>
</body>

</html>